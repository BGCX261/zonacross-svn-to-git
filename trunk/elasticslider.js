function AutoElasticSlideshow(e){(function(t){var n={blogURL:"",MaxPost:4,idcontaint:"#autoelastic",ImageSize:400,loadingClass:"loadingxx",Summary:100,animation:"sides",speed:800,easing:"",titlesFactor:.6,titlespeed:800,titleeasing:"",thumbMaxWidth:150,Interval:3e3,autoplay:true,pBlank:"http://1.bp.blogspot.com/-htG7vy9vIAA/Tp0KrMUdoWI/AAAAAAAABAU/e7XkFtErqsU/s1600/grey.gif",tagName:false};n=t.extend({},n,e);var r=t(n.idcontaint);var i=n.blogURL;if(n.blogURL===""){i=window.location.protocol+"//"+window.location.host}r.html('<div id="ei-slider" class="ei-slider"><ul class="ei-slider-large"></ul><ul class="ei-slider-thumbs"><li class="ei-slider-element">Current</li></ul></div>').addClass(n.loadingClass);var s=function(e){var i,s,o,u,a,l="",c="",h=e.feed.entry;for(var p=0;p<h.length;p++){for(var v=0;v<h[p].link.length;v++){if(h[p].link[v].rel=="alternate"){i=h[p].link[v].href;break}}if("media$thumbnail"in h[p]){u=h[p].media$thumbnail.url.replace(/\/s[0-9]+\-c/g,"/s"+n.ImageSize)}else{u=n.pBlank.replace(/\/s[0-9]+(\-c|\/)/,"/s"+n.ImageSize+"$1")}if("content"in h[p]){o=h[p].content.$t}else{if("summary"in h[p]){o=h[p].summary.$t}else{o=""}}o=o.replace(/<\S[^>]*>/g,"");if(o.length>n.Summary){o=o.substring(0,n.Summary)+"..."}s=h[p].title.$t;a=p+1;l+='<li><img src="'+u+'" alt="image0'+a+'" /><div class="ei-title"><h2><a href="'+i+'">'+s+"</a></h2><p>"+o+".</p></div></li>";c+='<li><a href="#">Slide '+a+'</a><img src="'+u+'" alt="thumb0'+a+'" /></li>'}t("ul.ei-slider-large",r).append(l);t("ul.ei-slider-thumbs",r).append(c)};var o=function(){var e="/-/"+n.tagName;if(n.tagName===false){e="";t.ajax({url:i+"/feeds/posts/default"+e+"?max-results="+n.MaxPost+"&orderby=published&alt=json-in-script",success:s,dataType:"jsonp",cache:true})}else{t.ajax({url:i+"/feeds/posts/default"+e+"?max-results="+n.MaxPost+"&orderby=published&alt=json-in-script",success:s,dataType:"jsonp",cache:true})}t(window).bind("load",function(){t("#ei-slider").eislideshow({animation:n.animation,autoplay:n.autoplay,slideshow_interval:n.Interval,titlesFactor:n.titlesFactor,speed:n.speed,easing:n.easing,titlespeed:n.titlespeed,titleeasing:n.titleeasing,thumbMaxWidth:n.thumbMaxWidth})});r.removeClass(n.loadingClass)};t(document).ready(o)})(jQuery)}(function(e,t,n){var r=t.event,i;r.special.smartresize={setup:function(){t(this).bind("resize",r.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",r.special.smartresize.handler)},handler:function(e,t){var n=this,r=arguments;e.type="smartresize";if(i){clearTimeout(i)}i=setTimeout(function(){jQuery.event.handle.apply(n,r)},t==="execAsap"?0:100)}};t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])};t.Slideshow=function(e,n){this.$el=t(n);this.$list=this.$el.find("ul.ei-slider-large");this.$imgItems=this.$list.children("li");this.itemsCount=this.$imgItems.length;this.$images=this.$imgItems.find("img:first");this.$sliderthumbs=this.$el.find("ul.ei-slider-thumbs").hide();this.$sliderElems=this.$sliderthumbs.children("li");this.$sliderElem=this.$sliderthumbs.children("li.ei-slider-element");this.$thumbs=this.$sliderElems.not(".ei-slider-element");this._init(e)};t.Slideshow.defaults={animation:"sides",autoplay:false,slideshow_interval:3e3,speed:800,easing:"",titlesFactor:.6,titlespeed:800,titleeasing:"",thumbMaxWidth:150};t.Slideshow.prototype={_init:function(e){this.options=t.extend(true,{},t.Slideshow.defaults,e);this.$imgItems.css("opacity",0);this.$imgItems.find("div.ei-title > *").css("opacity",0);this.current=0;var n=this;this.$loading=t('<div class="ei-slider-loading">Loading</div>').prependTo(n.$el);t.when(this._preloadImages()).done(function(){n.$loading.hide();n._setImagesSize();n._initThumbs();n.$imgItems.eq(n.current).css({opacity:1,"z-index":10}).show().find("div.ei-title > *").css("opacity",1);if(n.options.autoplay){n._startSlideshow()}n._initEvents()})},_preloadImages:function(){var e=this,n=0;return t.Deferred(function(r){e.$images.each(function(i){t("<img/>").load(function(){if(++n===e.itemsCount){r.resolve()}}).attr("src",t(this).attr("src"))})}).promise()},_setImagesSize:function(){this.elWidth=this.$el.width();var e=this;this.$images.each(function(e){var n=t(this);n.css({width:"100%",height:"100%"})})},_initThumbs:function(){this.$sliderElems.css({"max-width":this.options.thumbMaxWidth+"px",width:100/this.itemsCount+"%"});this.$sliderthumbs.css("max-width",this.options.thumbMaxWidth*this.itemsCount+"px").show()},_startSlideshow:function(){var e=this;this.slideshow=setTimeout(function(){var t;e.current===e.itemsCount-1?t=0:t=e.current+1;e._slideTo(t);if(e.options.autoplay){e._startSlideshow()}},this.options.slideshow_interval)},_slideTo:function(e){if(e===this.current||this.isAnimating){return false}this.isAnimating=true;var n=this.$imgItems.eq(this.current),r=this.$imgItems.eq(e),i=this,s={zIndex:10},o={opacity:1};if(this.options.animation==="sides"){s.left=e>this.current?-1*this.elWidth:this.elWidth;o.left=0}r.find("div.ei-title > h2").css("margin-right",50+"px").stop().delay(this.options.speed*this.options.titlesFactor).animate({marginRight:0+"px",opacity:1},this.options.titlespeed,this.options.titleeasing).end().find("div.ei-title > p").css("margin-right",-50+"px").stop().delay(this.options.speed*this.options.titlesFactor).animate({marginRight:0+"px",opacity:1},this.options.titlespeed,this.options.titleeasing);t.when(n.css("z-index",1).find("div.ei-title > *").stop().fadeOut(this.options.speed/2,function(){t(this).show().css("opacity",0)}),r.css(s).stop().animate(o,this.options.speed,this.options.easing),this.$sliderElem.stop().animate({left:this.$thumbs.eq(e).position().left},this.options.speed)).done(function(){n.css("opacity",0).find("div.ei-title > *").css("opacity",0);i.current=e;i.isAnimating=false})},_initEvents:function(){var n=this;t(e).on("smartresize.eislideshow",function(e){n._setImagesSize();n.$sliderElem.css("left",n.$thumbs.eq(n.current).position().left)});this.$thumbs.on("click.eislideshow",function(e){if(n.options.autoplay){clearTimeout(n.slideshow);n.options.autoplay=false}var r=t(this),i=r.index()-1;n._slideTo(i);return false})}};var s=function(e){if(this.console){console.error(e)}};t.fn.eislideshow=function(e){if(typeof e==="string"){var n=Array.prototype.slice.call(arguments,1);this.each(function(){var r=t.data(this,"eislideshow");if(!r){s("cannot call methods on eislideshow prior to initialization; attempted to call method '"+e+"'");return}if(!t.isFunction(r[e])||e.charAt(0)==="_"){s("no such method '"+e+"' for eislideshow instance");return}r[e].apply(r,n)})}else{this.each(function(){var n=t.data(this,"eislideshow");if(!n){t.data(this,"eislideshow",new t.Slideshow(e,this))}})}return this}})(window,jQuery);